import React, {Component} from 'react';import {NavLink as Link, withRouter} from 'react-router-dom';import Scrollchor from 'react-scrollchor';import './Header.css';import {images} from "../../constants";import {tokenVerify} from "../../redux/actions";import connect from "react-redux/es/connect/connect";const style = {    background: 'rgb(250, 250, 252)',    transition: 'all ease 0.2s',    boxShadow: '0 0 11px #80808042'};class Header extends Component {    state = {        white: false,        activeSection: 1    };    async componentDidMount() {        window.addEventListener('scroll', this.handleScroll);    }    componentWillUnmount() {        window.removeEventListener('scroll', this.handleScroll);    }    handleScroll = () => {        window.pageYOffset >= 85 ? this.setState({white: true}) : this.setState({white: false});    };    render() {        const {activeSection, white} = this.state;        const {pathname} = window.location;        const verifyToken = this.props.data.verifyToken;        const MenuItem = (num, name) => {            return (                <li className={activeSection === num ? "menu-active" : ""}>                    {pathname === "/" ?                        <Scrollchor to={"#section" + num} style={white ? {color: '#006aed'} : {}}                                    beforeAnimate={() => this.setState({activeSection: num})}>                            {name}                        </Scrollchor> :                        <Scrollchor to={""} style={white ? {color: '#006aed'} : {}}                                    beforeAnimate={(e) => {                                        e.preventDefault();                                        this.setState({activeSection: num})                                        this.props.changeLocation(num);                                    }}>                            {name}                        </Scrollchor>                    }                </li>            )        };        return (            <header id="header" style={white ? style : {}}>                <div className="container">                    <div id="logo" className="pull-left">                        <Link to="/" exact style={{marginRight: 30}}>                            <img src={white ? images.logoB : images.logo} alt="logo"/>                        </Link>                    </div>                    <nav id="nav-menu-container">                        <ul className={white ? "nav-menu" : "nav-menu nav-menuB"}>                            {MenuItem(1, "Home")}                            {MenuItem(2, "Services")}                            {MenuItem(3, "Features")}                            <Link to={verifyToken ? (verifyToken?"/dashboard":"/login"):"/login"} exact>{verifyToken ? (verifyToken?"Dashboard":"sign-in / sign-up"):"sign-in / sign-up"}</Link>                        </ul>                    </nav>                </div>            </header>        );    }}const mapStateToProps = state => ({    data: state.data,});const mapDispatchToProps = dispatch => ({    tokenVerify: () => dispatch(tokenVerify())});export default withRouter(connect(    mapStateToProps,    mapDispatchToProps,)(Header));